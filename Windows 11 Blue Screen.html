<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Windows 10</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  html, body {
    width: 100%; height: 100%;
    overflow: hidden;
    background: #000;
  }

  :root { --fs: 18px; }

  #bsod {
    background: #000;
    color: #fff;
    width: 100%; height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding-left: 13%;
    padding-right: 13%;
    font-family: 'Segoe UI', 'Segoe UI Light', sans-serif;
    font-weight: 300;
    font-size: var(--fs);
    line-height: 1.5;
    user-select: none;
  }

  .smile { font-size: calc(var(--fs) * 4.5); margin-bottom: 16px; }

  .main-text { font-size: var(--fs); margin-bottom: 28px; }

  .bottom-row {
    display: flex;
    align-items: flex-start;
    gap: 20px;
    margin-top: 10px;
  }

  .bottom-row img {
    width: clamp(50px, 8vw, 100px);
    flex-shrink: 0;
  }

  .small-text {
    font-size: calc(var(--fs) * 0.48);
    line-height: 1.6;
    padding-left: 10px;
  }

  /* ---- Settings Menu ---- */
  #menu {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: #1a1a1a;
    border: 1px solid #444;
    border-radius: 10px;
    padding: 24px 28px;
    color: #eee;
    font-family: 'Segoe UI', sans-serif;
    font-size: 14px;
    z-index: 999;
    min-width: 280px;
    box-shadow: 0 8px 40px rgba(0,0,0,0.7);
  }

  #menu.visible { display: block; }

  #menu h2 {
    font-size: 15px;
    font-weight: 600;
    margin-bottom: 18px;
    color: #fff;
    border-bottom: 1px solid #333;
    padding-bottom: 10px;
  }

  .field-row {
    display: flex;
    flex-direction: column;
    margin-bottom: 14px;
  }

  .field-row label {
    font-size: 12px;
    color: #aaa;
    margin-bottom: 5px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .field-row-inner {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .field-row input[type=number] {
    width: 70px;
    padding: 6px 8px;
    background: #2b2b2b;
    border: 1px solid #555;
    border-radius: 5px;
    color: #fff;
    font-size: 13px;
    outline: none;
  }

  .field-row input[type=number]:focus {
    border-color: #0078d7;
  }

  .field-row span {
    color: #aaa;
    font-size: 12px;
  }

  #menu button {
    width: 100%;
    margin-top: 8px;
    padding: 9px;
    background: #0078d7;
    color: #fff;
    border: none;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
    font-family: 'Segoe UI', sans-serif;
    transition: background 0.15s;
  }

  #menu button:hover { background: #005fa3; }

  .hint {
    font-size: 11px;
    color: #555;
    text-align: center;
    margin-top: 14px;
  }

  html:fullscreen, html:fullscreen * { cursor: none !important; }
  html:-webkit-full-screen, html:-webkit-full-screen * { cursor: none !important; }
  html:-moz-full-screen, html:-moz-full-screen * { cursor: none !important; }
</style>
</head>
<body>

<div id="bsod">
  <div class="smile">:(</div>
  <div class="main-text">
    Your device ran into a problem and needs to restart.<br>
    We're just collecting some error info, and then you can restart.<br><br>
    <span id="pct">0</span>% complete
  </div>
  <div class="bottom-row">
    <img src="https://cdn.jsdelivr.net/gh/Joeclickavit/PrankScreens@main/death-10-qr-code.png" alt="">
    <div class="small-text">
      For more information about this issue and possible fixes, visit https://www.windows.com/stopcode<br><br>
      If you call a support person, give them this info:<br><br>
      Stop code: SESSION1_INITIALIZATION_FAILED
    </div>
  </div>
</div>

<!-- Hidden Settings Menu -->
<div id="menu">
  <h2>⚙ BSOD Settings</h2>
  <div class="field-row">
    <label>Update Duration</label>
    <div class="field-row-inner">
      <input type="number" id="duration" min="1" value="42">
      <span>minutes</span>
    </div>
  </div>
  <div class="field-row">
    <label>Start Percentage</label>
    <div class="field-row-inner">
      <input type="number" id="startpct" min="0" max="99" value="7">
      <span>%</span>
    </div>
  </div>
  <button id="restart-btn">↺ Restart</button>
  <div class="hint">Press 5 to close this menu</div>
</div>

<script>
  let timerID = null;

  function getPct() {
    return parseInt(document.getElementById('pct').innerText);
  }
  function setPct(v) {
    document.getElementById('pct').innerText = v;
  }

  function startTimer() {
    const minutes = parseInt(document.getElementById('duration').value) || 13;
    const start   = parseInt(document.getElementById('startpct').value) || 0;
    const interval = (minutes * 60 * 1000) / (100 - start);

    if (timerID) clearInterval(timerID);
    setPct(start);

    timerID = setInterval(() => {
      const cur = getPct() + 1;
      if (cur > 100) {
        clearInterval(timerID);
        timerID = null;
      } else {
        setPct(cur);
      }
    }, interval);
  }

  document.getElementById('restart-btn').addEventListener('click', () => {
    startTimer();
    toggleMenu(false);
  });

  // Toggle menu on key "5"
  function toggleMenu(force) {
    const menu = document.getElementById('menu');
    const show = force !== undefined ? force : !menu.classList.contains('visible');
    menu.classList.toggle('visible', show);
  }

  document.addEventListener('keydown', e => {
    if (e.key === '5') toggleMenu();
  });

  document.getElementById('bsod').addEventListener('click', () => {
    if (document.getElementById('menu').classList.contains('visible')) return;
    const el = document.documentElement;
    if (!document.fullscreenElement && !document.webkitFullscreenElement) {
      if (el.requestFullscreen) el.requestFullscreen();
      else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
      else if (el.mozRequestFullScreen) el.mozRequestFullScreen();
      else if (el.msRequestFullscreen) el.msRequestFullscreen();
    }
  });

  // Start on load
  startTimer();
</script>
</body>
</html>
